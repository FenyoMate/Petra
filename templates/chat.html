{% extends 'base.html' %}

{% load static %}
{% block content %}

    <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <!--
                     Active chat with an input box. The output is displayed in the same page above from the input box.
                     The input will be sent to the Django server, which will process it. The answer will be sent
                     to the output section, as an answer to the input.
                     -->
                    <h5>Active chat</h5>
                    <div id="active_chat" class="scrollBar">
                        <div id="output">
                            {% for message in msg %}
                                <div class="message">
                                    <div class="row">
                                        <div class="col-sm-2">
                                            <p>{{ message.sender }}</p>
                                        </div>
                                        <div class="col-sm-2">
                                           <p>{{ message.timestamp }}</p>
                                        </div>
                                        <div class="col-sm-8">
                                            <p>{{ message.message }}</p>
                                        </div>
                                    </div>
                                    <div class="row justify-content-center">
                                        <div class="col-sm-6 ">
                                            {{ message.answer }}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div class="container">
        <div id="input" class="h-50">
            <!--
            This should be the chat input. The input should be sent to the Django server, which will process it for the chat.
            The button must be anchored to the right side of the input box.
            -->
            <form method="post" id="chat_form">
                {% csrf_token %}
                <div class="row">
                    <div class="col-sm-10">
                        <input type="text" id="msg" name="chat_input" class="form-control" placeholder="Type your message here...">
                    </div>
                    <div class="col-sm-2">
                        <button type="submit" class="btn btn-success">Send</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
 {% endblock %}
